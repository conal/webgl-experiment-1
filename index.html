<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <!--
    <script src="jquery-ui/external/jquery/jquery.js"></script>
    <script src="jquery.min.js"></script>
    <script src="jquery-ui/jquery-ui.js"></script>
    <link href="jquery-ui/jquery-ui.css" rel="stylesheet">
    -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.1/jquery-ui.min.js"></script>
    <link href="https://code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css" rel="stylesheet">
    <script type="text/javascript" src="lib.js"></script>
    <style>
       canvas {
         background-color:red; border:2px solid black; margin-left:1px; margin-right:1px;
       }
       body { background-color:yellow }
    </style>
  </head>
  <body></body>
</html>

<script type="text/javascript">
  $(document).ready(function () {  // or $(function () { ... })
    var effects = ["checker", "diskHalfSpace",
                   "diskChecker/1", "diskChecker/2", "diskChecker/3",
                   "diskChecker/4", "diskChecker/5", "diskChecker/6",
                   "diskChecker/7", "diskChecker/8", "diskChecker/9",
                   // "turningWebcam"
                   // Bug: only one webcam effect works in preview
                   ];
    if (navigator.getUserMedia)
        effects.push("turningWebcam");
    var master = $("<canvas width=150 height=150/>"); // to be cloned
    var effectCanvas = function (effect) {
      var c = master.clone();
      install_effect(c[0],effect);  // Ignore returned GUI for thumbnails
      return c;
    }
    // Add effect thumbnail canvases, each wrapped in a hyperlink.
    // For simplicity and efficiency, add in bulk.
    $("body").append($.map(effects,function(effect) {
        return $("<a href=effect.html?"+effect+"/>").html(effectCanvas(effect));
    }));
  });
</script>
