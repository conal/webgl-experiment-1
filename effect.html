<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script> -->
    <!--
    <script src="jquery.min.js"></script>
     -->
    <script src="jquery-ui/external/jquery/jquery.js"></script>
    <script src="jquery-ui/jquery-ui.js"></script>
    <link href="jquery-ui/jquery-ui.css" rel="stylesheet">
    <script type="text/javascript" src="lib.js"></script>
    <!-- <script type="application/javascript;version=1.7" src="lib.js"></script> -->
    <style>
       div.gui { 
           position:fixed;
           width: 250px;
           top:20px;right:50px;
           font-size:150%;
           padding:5px;padding-bottom:10px;
           background:rgba(200,200,255,0.5);
       }
       canvas { z-index: -1; } // below GUI
       // div.ui-slider-horizontal { width: 3px !important; } // Doesn't work. Hm.
    </style>
  </head>
  <body style="margin:0px"> <div class=gui></div> </body>

  <script>
    $(document).ready(function () {  // or $(function () { ... })
        // TODO: finish converting to jQuery
        var effect = location.search.slice(1);
        document.title = effect;
        // console.log("effect: " + effect);
        var canvas = $("<canvas/>")[0];
        $("body").append(canvas);
        $(".gui").append(install_effect(canvas,effect));
        $(window).resize (function() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            canvas.onresize();
        });
        $(window).trigger("resize");
    });
  </script>

</html>

